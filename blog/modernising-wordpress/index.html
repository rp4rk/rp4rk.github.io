<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><title>Ryan Park - Front End Web Developer</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/favicon.png><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css><link rel=alternate type=application/rss+xml title="Ryan Park - Front End Web Developer" href=/rss.xml><meta name=description content="Bespoke Web Development in Northern Ireland, great performance for great prices!"><meta name=subject content="Web Development in Northern Ireland"><meta name=language content=en><meta name=classification content=business><meta property=og:type content=website><meta property=og:site_name content="Ryan Park - Front End Web Developer"><meta property=og:title content="Modernising Wordpress"><meta property=og:description content="Bespoke Web Development in Northern Ireland, great performance for great prices!"><meta name=twitter:card content=summary_large_image><meta property=twitter:title content="Modernising Wordpress"><meta name=twitter:site content=@r_p4rk><meta name=twitter:creator content=@r_p4rk><meta name=twitter:description content="Bespoke Web Development in Northern Ireland, great performance for great prices!"></head><body><div class=site-wrap><header class="site-header px2 px-responsive"><div class="mt2 wrap light"><div class=measure><a href="/" class=site-title>Ryan<span class=site-title-bold>Park</span></a> <span class=site-byline>Front End Web Developer</span><nav class="site-nav right"><a href=/blog>Blog</a></nav><div class=clearfix></div><div class=social-icons><div class=left><a class="fa fa-github" href=https://github.com/rp4rk></a> <a class="fa fa-stack-overflow" href=https://stackoverflow.com/users/2276608></a> <a class="fa fa-twitter" href=https://twitter.com/r_p4rk></a> <a class="fa fa-envelope mail-link" href=mailto:a,d,m,i,n,@,r,y,a,n,p,a,r,k,.,c,o,.,u,k></a> <a class="fa fa-codepen" href="https://codepen.io/r_p4rk/"></a></div></div><div class=clearfix></div></div></div></header><div class="post p2 p-responsive wrap" role=main><div class=measure><div class=post><header class="post-header mb2"><h1>Modernising Wordpress</h1><span class=post-meta>May 11, 2016</span><br><span class="post-meta small"><a href=/tags/wordpress title=wordpress>wordpress</a>, <a href=/tags/http2 title=http2>http2</a>, <a href=/tags/ssl title=ssl>ssl</a>, <a href=/tags/security title=security>security</a>, <a href=/tags/speed title=speed>speed</a>, <a href=/tags/optimization title=optimization>optimization</a></span></header><article class="post-content py2"><p>WordPress can be notoriously bad to work with, especially in cases where you have to work with a client that has an existing install of the software. Between monolithic themes that have been developed using bad practices, and the prevalence of poorly performing hosting, you can spend more time loading pages than doing your job. This was an experience of mine recently, and I&#39;ve taken the liberty of outlining my process for bringing WordPress installs into the present.</p><p>You will likely need to sell your client on a lot of your proposed changes, and this should be easily enough done. What this process offers is top-notch performance, security, and price. The process has three main stages, and each one has the potential to severely impact the performance of WordPress.</p><h2 id=hardware-software-or-theme>Hardware, Software, or Theme</h2><p>Simply put, poor hardware means poor performance. In the client case mentioned earlier, initial load times were 8-20 seconds depending on bandwidth. Of that time loading, 4-6 seconds were spent generating the initial response on the server. When you consider that over 40% of people will close a tab if it doesn&#39;t load within 3 seconds, you can see that this type of situation is dire. Your first hurdle as a developer is to find these problem points and address them appropriately.</p><h3 id=addressing-the-hardware>Addressing the Hardware</h3><p>Generally you will eliminate any and all hardware issues by moving away from &quot;shared hosting&quot; plans, these plans typically share resources between a large amount of websites. What this means is that if you&#39;re placed on a block with a large website, you get less of a share of the resources, leading to performance problems. With a VPS you don&#39;t only get top-notch hardware, but you can choose your own &#39;stack&#39;, and usually this means you can benefit from the latest technologies.</p><h4 id=how-to-move>How to Move</h4><p>Invest in a Virtual Private Server, as a developer you should be confident with being able to deploy and set up a VPS. If you choose providers such as <a href=https://m.do.co/c/ce1bd1d9094b>DigitalOcean</a><sup>1</sup> or <a href="https://www.vultr.com/">Vultr</a> you can get very competitive plans, starting at $5 a month. That&#39;s extremely cheap for the level of performance you get, it competes with even the cheapest shared plans.</p><p>Ideally, each client will have their own VPS, they&#39;re not expensive and you can spin them up effortlessly. Once you&#39;ve done that you need to configure your server. There are tools available such as <a href="https://serverpilot.io/">ServerPilot</a>, or <a href="https://www.docker.com/">Docker</a> that make this really easy even for individuals inexperienced with managing their own servers. Once you&#39;ve done this, it&#39;s a simple matter of migrating your WordPress install across. A tip with ServerPilot is that you can very easily modify their basic install to include SSL.</p><p><sup>1 - This is a referral link that will give you a free $10 on signup, click <a href=https://www.digitalocean.com>here</a> if you aren&#39;t cool with those.</sup></p><h3 id=addressing-the-software>Addressing the Software</h3><p>Software problems are a lot more granular than hardware problems, to address them you must ensure that your point of fault isn&#39;t at a hardware level. Once that is done and you&#39;re confident the problem is not the hardware, you can then continue to the software. As well as this, your fault could exist at one point in software, or across several points - fixing one problem might not entirely solve your performance issues.</p><p>It&#39;s also important to realize that any software problems can exist with your server-side tools, such as with your NGINX configuration - or on the WordPress install itself through the avenue of plugins.</p><h4 id=plugins>Plugins</h4><p>Plugins are a point of fault for a lot of users, there is no strict guarantee with plugins for WordPress that dictates they will work well with others. I would advise installing a plugin profiler, and seeing where the most time is spent in generating your pages. In some cases you may not even be able to disable the problematic plugin in question. Prepare for that eventuality, and realize that there&#39;s no golden gun for this situation, however there are ways to reduce the impact.</p><h4 id=serving-wordpress>Serving WordPress</h4><p>If you&#39;re certain the problem isn&#39;t with a plugin alone, the best option is to go full nuclear on your software stack and re-implement it. For Wordpress in particular this isn&#39;t a problem because your content is completely separate from your stack, and you <em>should</em> have a backup system in place. For the problem client mentioned earlier, this was the single best thing I had done, and switching to PHP7 reduced TTFB by a factor of ten in most cases. The theme was an absolute monster and included many proprietary plugins for functionality, but PHP7 chewed through this and gave an acceptable level of performance.</p><p>On top of this, a strict caching policy for users who aren&#39;t logged in will perform miracles. A user visiting the front page of your website for the first time can have a response ready in under 50ms, compared to maybe 400ms for a non-cached page. This is a pretty huge advantage, especially if your server is coming under heavy load from an influx of visitors, as the server won&#39;t have to generate a response individually for each visitor.</p><h4 id=my-server-configuration>My Server Configuration</h4><p>The configuration I use for client sites is something of a combination of all the suggestions so far:</p><ul><li>WordPress on PHP7 with MariaDB.</li><li>A strict caching policy.</li><li>A SSL and HTTP2 enabled reverse proxy.</li><li>Image optimization.</li></ul><p>With this configuration you eliminate almost all concerns, you get the best security with SSL and you can provide it at no cost to yourself using LetsEncrypt. On top of this, you have caching to provide fast and low-burden responses, along with optimized images, which you can do in bulk using the CLI of your VPS, and then use a plugin to ensure future media is optimized. You also don&#39;t have to worry as much about having a poorly developed theme with no concatenated resources, because HTTP2 multiplexing deals with that issue. This configuration should offer up very competitive performance, at very little cost.</p><h3 id=addressing-the-theme>Addressing the Theme</h3><p>The theme is something that may not be negotiable, you can do your best to clean it up; my advice is to not bother with concatenation and let HTTP2 multiplexing deal with that. On the other hand, you do need to consider some users may have a browser that does not support HTTP2, in that event you might wish to continue on with that.</p><p>This is my checklist to handle the majority of problems:</p><ul><li>Does the theme have significantly oversized images?</li><li>Can I replace any images with SVGs? If yes I proceed to do so. This can save you hundreds of KB.</li><li>Has the client used PNGs where it&#39;s not appropriate? If so convert to JPG.</li><li>Are any redundant files being loaded in?</li></ul><p>Usually this will address most performance problems, I would typically also attempt to dissuade the use of video backgrounds. If you wish to go into further detail with this, you can run a benchmark of the website using the Chrome developer tools, here&#39;s an idea of what you&#39;re looking for:</p><ul><li>Huge file sizes under the network tab.</li><li>Scrolling performance problems, these can be profiled using the timeline.</li><li>Repaint issues, again profiled under the timeline.</li></ul><h3 id=wrapping-up>Wrapping Up</h3><p>I realize after writing this that it&#39;s less of a guide and more of a general guideline, that&#39;s fine, a lot of the tips are very solid for guaranteeing a performance level above and beyond what typical shared hosting would give. It&#39;s also a great place to start learning the basics of server management. VPS providers like DigitalOcean have a wealth of documentation available for people working stuff out, and also have a very powerful snapshot feature to ensure you can experiment without worrying about losing everything.</p><p>There is another solution that would be almost free and guarantee top percentile performance. Ask yourself if you need to be using WordPress, if the answer is no, you can always make use of static site generators and GitHub pages. Take a look at my <a href="http://ryanpark.co.uk/blog/building-the-blog/">article about building this website</a> to get a more in depth perspective on the advantages!</p></article><div class=post-content><div id=disqus_thread></div></div></div></div></div></div><footer class=footer><div class="p2 wrap"><div class="measure mt1 center"><small>built with <a href="http://www.metalsmith.io/">metalsmith</a> & <a href=https://github.com/johnotander/pixyll>pixyll</a></small></div></div></footer><script src=/js/scripts.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', '123457', 'auto');
  ga('send', 'pageview');</script><script type=text/javascript>// disqus
  var disqus_shortname = 'rp4rk';
  var disqus_title = 'Modernising Wordpress';
  var disqus_url = 'http://ryanpark.co.uk/blog/modernising-wordpress/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  // Twitter
  !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></body></html>